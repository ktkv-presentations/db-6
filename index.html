<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>reveal.js</title>

	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/theme/tokyo-night.css">

	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="plugin/highlight/tokyo-night.css">
	<link rel="stylesheet" href="plugin/chalkboard/style.css">
	<link rel="stylesheet" href="plugin/customcontrols/style.css">
	<script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<h1>Методы нормальных форм</h1>
				<img alt="https://ktkv-presentations.github.io/db-6/" data-type="qrcode">
			</section>
			<section>
				<section>
					<h1>
						Проблемы чрезмерной нормализации
					</h1>
					<img src="https://preview.redd.it/03bputwl8vr21.jpg?auto=webp&s=2c2acfc1fcab06c38b5aa08a067ce6ae1b496022"
						alt="" class="r-stretch">
				</section>
				<section>
					<h1>Нормальная форма Бойса-Кодда (НФБК/BCNF)</h1>
					<p>расширение третьей нормальной формы, где каждый детерминант (атрибут, от которого функционально зависят
						другие атрибуты) должен быть ключевым значением таблицы</p>
				</section>
				<section>
					<table>
						<tr>
							<th>Преподаватель</th>
							<th>Курс</th>
							<th>Аудитория</th>
						</tr>
						<tr>
							<th>Иванов</th>
							<th>Математика</th>
							<th>А101</th>
						</tr>
						<tr>
							<th>Петров</th>
							<th>Программирование</th>
							<th>А102</th>
						</tr>
						<tr>
							<th>Иванов</th>
							<th>Физика</th>
							<th>А101</th>
						</tr>
					</table>
				</section>
				<section>
					<div class="border-b">
						<h4>Таблица Преподаватели</h4>
						<table>
							<tr>
								<th>Преподаватель </th>
								<th>Аудитория</th>
							</tr>
							<tr>
								<th>Петров</th>
								<th>А101</th>
							</tr>
							<tr>
								<th>Иванов</th>
								<th>А102</th>
							</tr>
						</table>
					</div><br>
					<div class="border-b">
						<h4>Таблица Курсы</h4>
						<table>
							<tr>
								<th>Преподаватель </th>
								<th>Курс</th>
							</tr>
							<tr>
								<th>Иванов</th>
								<th>Математика</th>
							</tr>
							<tr>
								<th>Иванов</th>
								<th>Физика</th>
							</tr>
							<tr>
								<th>Петров</th>
								<th>Программирование</th>
							</tr>
						</table>
					</div>
				</section>
			</section>
			<section>
				<section>
					<h1>Многозначная зависимость (MVD)</h1>
					<p>особый тип зависимости, который возникает, когда один атрибут таблицы определяет несколько значений другого
						атрибута независимо от всех остальных атрибутов</p>
				</section>
				<section>
					<h1>Четвёртая нормальная форма</h1>
					<p>нормальная форма, которая устраняет избыточность данных, вызванную многозначными зависимостями</p>
				</section>
				<section>
					<table>
						<tr>
							<th>Студент</th>
							<th>Курс</th>
							<th>Хобби</th>
						</tr>
						<tr>
							<th>Иванов</th>
							<th>Математика</th>
							<th>Футбол</th>
						</tr>
						<tr>
							<th>Иванов</th>
							<th>Программирование</th>
							<th>Футбол</th>
						</tr>
						<tr>
							<th>Иванов</th>
							<th>Математика</th>
							<th>Музыка</th>
						</tr>
						<tr>
							<th>Иванов</th>
							<th>Программирование</th>
							<th>Музыка</th>
						</tr>
					</table>
				</section>
				<section>
					<div class="border-b">
						<h4>Таблица Курсы</h4>
						<table>
							<tr>
								<th>Студент</th>
								<th>Курс</th>
							</tr>
							<tr>
								<th>Иванов</th>
								<th>Математика</th>
							</tr>
							<tr>
								<th>Иванов</th>
								<th>Программирование</th>
							</tr>
						</table>
					</div>
					<br>
					<div class="border-b">
						<h4>Таблица Хобби</h4>
						<table>
							<tr>
								<th>Студент</th>
								<th>Хобби</th>
							</tr>
							<tr>
								<th>Иванов</th>
								<th>Футбол</th>
							</tr>
							<tr>
								<th>Иванов</th>
								<th>Музыка</th>
							</tr>
						</table>
					</div>
				</section>
				<section>
					<h1>Когда использовать 4НФ</h1>
					<p>когда требуется хранить множественные независимые множества данных для одной и той же сущности</p>
				</section>
			</section>
			<section>
				<section>
					<h1>Зависимость соединения (JD)</h1>
					<p>зависимость, при которой таблица может быть восстановлена путём соединения нескольких её проекций (частей
						данных), но при этом эти проекции не могут быть разделены на более мелкие без потери информации</p>
				</section>
				<section>
					<h1>Пятая нормальная форма</h1>
					<p>нормальная форма, которая устраняет зависимости соединения</p>
				</section>
				<section>
					<table>
						<tr>
							<th>Покупатель</th>
							<th>Продавец</th>
							<th>Товар</th>
						</tr>
						<tr>
							<th>Иванов</th>
							<th>Петров</th>
							<th>Компьютер</th>
						</tr>
						<tr>
							<th>Иванов</th>
							<th>Сидоров</th>
							<th>Принтер</th>
						</tr>
						<tr>
							<th>Сидоров</th>
							<th>Петров</th>
							<th>Принтер</th>
						</tr>
					</table>
				</section>
				<section>
					<div class="grid grid-cols-2 gap-4">
						<div class="border-b">
							<h4>Таблица продавцы и товары</h4>
							<table>
								<tr>
									<th>Продавец</th>
									<th>Товар</th>
								</tr>
								<tr>
									<th>Петров</th>
									<th>Компьютер</th>
								</tr>
								<tr>
									<th>Сидоров</th>
									<th>Принтер</th>
								</tr>
							</table>
						</div>
						<div class="border-b">
							<h4>Таблица покупатели и товары</h4>
							<table>
								<tr>
									<th>Покупатель</th>
									<th>Товар</th>
								</tr>
								<tr>
									<th>Иванов</th>
									<th>Компьютер</th>
								</tr>
								<tr>
									<th>Иванов</th>
									<th>Принтер</th>
								</tr>
							</table>
						</div>
						<div class="border-b col-span-2">
							<h4>Таблица Покупатели и продавцы</h4>
							<table>
								<tr>
									<th>Покупатель</th>
									<th>Продавец</th>
								</tr>
								<tr>
									<th>Иванов</th>
									<th>Петров</th>
								</tr>
								<tr>
									<th>Иванов</th>
									<th>Сидоров</th>
								</tr>
								<tr>
									<th>Сидоров</th>
									<th>Петров</th>
								</tr>
							</table>
						</div>
					</div>
				</section>
				<section>
					<h1>Когда использовать 5НФ</h1>
					<p>когда необходимо моделировать сложные отношения между несколькими сущностями</p>
				</section>
			</section>
			<section>
				<section>
					<h1>Доменно-ключевая нормальная форма (DKNF)</h1>
					<p>высшая нормальная форма, которая требует, чтобы каждый ограничивающий фактор или зависимость в таблице были
						выражены через ограничения домена или ключа</p>
				</section>
				<section>
					<h1>Пример нарушения ДКНФ</h1>
					<pre><code class="sql">
CREATE TABLE student_grades (
		student_id INT NOT NULL,
		course_id INT NOT NULL,
		grade INT NOT NULL
    PRIMARY KEY (student_id, course_id),
);
				</code></pre>
					<table>
						<tr>
							<th>Студент</th>
							<th>Курс</th>
							<th>Оценка</th>
						</tr>
						<tr>
							<th>Иванов</th>
							<th>Математика</th>
							<th>5</th>
						</tr>
						<tr>
							<th>Петров</th>
							<th>Программирование</th>
							<th>4</th>
						</tr>
					</table>
				</section>
				<section>
					<pre><code class="sql">
CREATE TABLE student_grades (
		student_id INT NOT NULL,
		course_id INT NOT NULL,
		grade INT NOT NULL,
    PRIMARY KEY (student_id, course_id),
		    
    CHECK (grade >= 1 AND grade <= 5),
);
				</code></pre>
					<table>
						<tr>
							<th>Студент</th>
							<th>Курс</th>
							<th>Оценка</th>
						</tr>
						<tr>
							<th>Иванов</th>
							<th>Математика</th>
							<th>5</th>
						</tr>
						<tr>
							<th>Петров</th>
							<th>Программирование</th>
							<th>4</th>
						</tr>
					</table>
				</section>
			</section>
			<section>
				<section>
					<h1>Денормализация</h1>
					<p>процесс обратный нормализации, когда данные в базе данных умышленно дублируются, чтобы повысить
						производительность системы</p>
					<div class="grid grid-cols-2 gap-4">
						<div class="border-b">
							<h4>Преимущества</h4>
							<ul>
								<li>Улучшение производительности</li>
								<li>Упрощение запросов</li>
								<li>Снижение нагрузки на сервер</li>
							</ul>
						</div>
						<div class="border-b">
							<h4>Недостатки</h4>
							<ul>
								<li>Избыточность данных</li>
								<li>Аномалии обновления</li>
								<li>Усложнение логики бизнес-правил</li>
							</ul>
						</div>
					</div>
				</section>
				<section>
					<h1>Когда используется</h1>
					<p>используется в системах, где чтение данных происходит гораздо чаще, чем запись, и требования к
						производительности выше, чем к поддержанию строгой структуры данных</p>
					<code>Например, в системах аналитики или хранилищах данных</code>
				</section>
				<section>
					<div class="border-b">
						<table>
							<tr>
								<th>customer_id </th>
								<th>customer_name</th>
								<th>city</th>
							</tr>
							<tr>
								<th>1</th>
								<th>Иванов</th>
								<th>Москва</th>
							</tr>
							<tr>
								<th>2</th>
								<th>Петров</th>
								<th>СПб</th>
							</tr>
						</table>
					</div>
					<br>
					<div class="border-b">
						<table>
							<tr>
								<th>order_id </th>
								<th>customer_id</th>
								<th>order_date</th>
							</tr>
							<tr>
								<th>101</th>
								<th>1</th>
								<th>2024-09-01</th>
							</tr>
							<tr>
								<th>102</th>
								<th>2</th>
								<th>2024-09-02</th>
							</tr>
						</table>
					</div>
				</section>
				<section>
					<table>
						<tr>
							<th>order_id </th>
							<th>customer_id</th>
							<th>customer_name</th>
							<th>city</th>
							<th>order_date</th>
						</tr>
						<tr>
							<th>101</th>
							<th>1</th>
							<th>Иванов</th>
							<th>Москва</th>
							<th>2024-09-01</th>
						</tr>
						<tr>
							<th>102</th>
							<th>2</th>
							<th>Петров</th>
							<th>СПб</th>
							<th>2023-09-02</th>
						</tr>
					</table>
				</section>
				<section>
					<h1>Варианты денормализации</h1>
					<ul>
						<li>Добавление избыточных столбцов</li>
						<li>Предвычисленные агрегаты</li>
						<li>Кэширование данных</li>
					</ul>
				</section>
				<section>
					<h1>Во всем должен быть баланс</h1>
					<img src="https://www.meme-arsenal.com/memes/812145c2c54e73335353c9b9531bd5e1.jpg" alt="" class="r-stretch">
				</section>
			</section>
		</div>
	</div>
	<script src="dist/reveal.js"></script>
	<script src="plugin/notes/notes.js"></script>
	<script src="plugin/markdown/markdown.js"></script>
	<script src="plugin/highlight/highlight.js"></script>
	<script src="plugin/qrcode/qrcode.js"></script>
	<script src="plugin/mermaid/mermaid.js"></script>
	<script src="plugin/chalkboard/plugin.js"></script>
	<script src="plugin/customcontrols/plugin.js"></script>

	<script>
		tailwind.config = {
			corePlugins: {
				preflight: false,
			}
		}
	</script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/

		const colors = {
			blue0: 'rgb(61, 89, 161)',
			blue: 'rgb(122, 162, 247)',
			cyan: 'rgb(125, 207, 255)',
			magenta: 'rgb(187, 154, 247)',
			orange: 'rgb(255, 158, 100)',
			yellow: 'rgb(224, 175, 104)',
			green: 'rgb(158, 206, 106)',
			teal: 'rgb(26, 188, 156)',
			red: 'rgb(255, 117, 127)',
			red1: 'rgb(219, 75, 75)',
			fg: 'rgb(192, 202, 245)',
			bg: 'rgb(26, 27, 38)',
			transparent: "#00000000"
		};

		Reveal.initialize({
			hash: true,
			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealMermaid, RevealChalkboard, RevealCustomControls],
			slideNumber: true,
			customcontrols: {
				controls: [
					{
						icon: '<div></div>',
						title: 'Clear canvas (DEL)',
						action: 'RevealChalkboard.clear();'
					},
					{
						icon: '<div></div>',
						title: 'Toggle chalkboard (B)',
						action: 'RevealChalkboard.toggleChalkboard();'
					},
					{
						icon: '<div></div>',
						title: 'Toggle notes canvas (C)',
						action: 'RevealChalkboard.toggleNotesCanvas();'
					}
				],
			},
			chalkboard: {
				boardmarkerWidth: 5,
				boardmarkers: [
					{ color: colors.bg, cursor: 'url(' + path + 'img/boardmarker-black.png), auto' },
					{ color: colors.fg, cursor: 'url(' + path + 'img/boardmarker-black.png), auto' },
					{ color: colors.blue, cursor: 'url(' + path + 'img/boardmarker-black.png), auto' },
					{ color: colors.red, cursor: 'url(' + path + 'img/boardmarker-black.png), auto' },
					{ color: colors.green, cursor: 'url(' + path + 'img/boardmarker-black.png), auto' },
					{ color: colors.yellow, cursor: 'url(' + path + 'img/boardmarker-black.png), auto' },
					{ color: colors.teal, cursor: 'url(' + path + 'img/boardmarker-black.png), auto' },
					{ color: colors.orange, cursor: 'url(' + path + 'img/boardmarker-black.png), auto' },
				],
				chalks: [
					{ color: colors.bg, cursor: 'url(' + path + 'img/chalk-white.png), auto' },
					{ color: colors.fg, cursor: 'url(' + path + 'img/chalk-white.png), auto' },
					{ color: colors.blue, cursor: 'url(' + path + 'img/chalk-white.png), auto' },
					{ color: colors.red, cursor: 'url(' + path + 'img/chalk-white.png), auto' },
					{ color: colors.green, cursor: 'url(' + path + 'img/chalk-white.png), auto' },
					{ color: colors.yellow, cursor: 'url(' + path + 'img/chalk-white.png), auto' },
					{ color: colors.teal, cursor: 'url(' + path + 'img/chalk-white.png), auto' },
					{ color: colors.orange, cursor: 'url(' + path + 'img/chalk-white.png), auto' },
				]
			},
			mermaid: {
				securityLevel: 'loose',
				theme: "dark",
				themeVariables: {
					darkMode: true,
					textColor: colors.fg,
					background: colors.bg,
					mainBkg: colors.bg,
					lineColor: colors.fg,
				}
			}
		});
	</script>
</body>

</html>